diff -ruN a/config/kernel.m4 b/config/kernel.m4
--- a/config/kernel.m4	2018-05-24 17:06:03.050255913 +0000
+++ b/config/kernel.m4	2018-05-24 17:06:52.974154321 +0000
@@ -727,7 +727,7 @@
 	modpost_flag=''
 	test "x$enable_linux_builtin" = xyes && modpost_flag='modpost=true' # fake modpost stage
 	AS_IF(
-		[AC_TRY_COMMAND(cp conftest.c conftest.h build && make [$2] -C $LINUX_OBJ EXTRA_CFLAGS="-Werror $FRAME_LARGER_THAN $EXTRA_KCFLAGS" $ARCH_UM M=$PWD/build $modpost_flag) >/dev/null && AC_TRY_COMMAND([$3])],
+		[AC_TRY_COMMAND(cp conftest.c conftest.h build && make [$2] -C $LINUX_OBJ EXTRA_CFLAGS="$FRAME_LARGER_THAN $EXTRA_KCFLAGS" $ARCH_UM M=$PWD/build $modpost_flag) >/dev/null && AC_TRY_COMMAND([$3])],
 		[$4],
 		[_AC_MSG_LOG_CONFTEST m4_ifvaln([$5],[$5])]
 	)
diff -ruN a/config/zfs-build.m4 b/config/zfs-build.m4
--- a/config/zfs-build.m4	2018-05-24 17:06:03.042255930 +0000
+++ b/config/zfs-build.m4	2018-05-24 17:07:06.538126722 +0000
@@ -7,9 +7,9 @@
 ])
 
 AC_DEFUN([ZFS_AC_DEBUG_ENABLE], [
-	KERNELCPPFLAGS="${KERNELCPPFLAGS} -DDEBUG -Werror"
-	HOSTCFLAGS="${HOSTCFLAGS} -DDEBUG -Werror"
-	DEBUG_CFLAGS="-DDEBUG -Werror"
+	KERNELCPPFLAGS="${KERNELCPPFLAGS} -DDEBUG"
+	HOSTCFLAGS="${HOSTCFLAGS} -DDEBUG"
+	DEBUG_CFLAGS="-DDEBUG"
 	DEBUG_ZFS="_with_debug"
 	AC_DEFINE(ZFS_DEBUG, 1, [zfs debugging enabled])
 ])
