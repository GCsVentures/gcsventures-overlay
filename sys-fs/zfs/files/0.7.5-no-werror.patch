diff -ruN a/config/kernel.m4 b/config/kernel.m4
--- a/config/kernel.m4	2018-01-15 11:07:02.554066258 +0000
+++ b/config/kernel.m4	2018-01-15 11:07:37.742067886 +0000
@@ -721,7 +721,7 @@
 	modpost_flag=''
 	test "x$enable_linux_builtin" = xyes && modpost_flag='modpost=true' # fake modpost stage
 	AS_IF(
-		[AC_TRY_COMMAND(cp conftest.c conftest.h build && make [$2] -C $LINUX_OBJ EXTRA_CFLAGS="-Werror $EXTRA_KCFLAGS" $ARCH_UM M=$PWD/build $modpost_flag) >/dev/null && AC_TRY_COMMAND([$3])],
+		[AC_TRY_COMMAND(cp conftest.c conftest.h build && make [$2] -C $LINUX_OBJ EXTRA_CFLAGS="$EXTRA_KCFLAGS" $ARCH_UM M=$PWD/build $modpost_flag) >/dev/null && AC_TRY_COMMAND([$3])],
 		[$4],
 		[_AC_MSG_LOG_CONFTEST m4_ifvaln([$5],[$5])]
 	)
diff -ruN a/config/zfs-build.m4 b/config/zfs-build.m4
--- a/config/zfs-build.m4	2018-01-15 11:07:14.214066797 +0000
+++ b/config/zfs-build.m4	2018-01-15 11:07:37.754067886 +0000
@@ -16,9 +16,9 @@
 
 	AS_IF([test "x$enable_debug" = xyes],
 	[
-		KERNELCPPFLAGS="${KERNELCPPFLAGS} -DDEBUG -Werror"
-		HOSTCFLAGS="${HOSTCFLAGS} -DDEBUG -Werror"
-		DEBUG_CFLAGS="-DDEBUG -Werror"
+		KERNELCPPFLAGS="${KERNELCPPFLAGS} -DDEBUG"
+		HOSTCFLAGS="${HOSTCFLAGS} -DDEBUG"
+		DEBUG_CFLAGS="-DDEBUG"
 		DEBUG_STACKFLAGS="-fstack-check"
 		DEBUG_ZFS="_with_debug"
 		AC_DEFINE(ZFS_DEBUG, 1, [zfs debugging enabled])
